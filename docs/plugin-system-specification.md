# –¢–ó: –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Pyrus

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üöÄ –ö–ê–ö –†–ê–ë–û–¢–ê–¢–¨ –° –≠–¢–ò–ú –¢–ó

### –î–ª—è –ò–ò —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
1. **–ß–∏—Ç–∞–π —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–π —ç—Ç–∞–ø** - –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –∞–≤—Ç–æ–Ω–æ–º–µ–Ω
2. **–ü—Ä–æ–≤–µ—Ä—è–π —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å —ç—Ç–∞–ø–æ–≤" 
3. **–û–±–Ω–æ–≤–ª—è–π —Å—Ç–∞—Ç—É—Å** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è - –º–µ–Ω—è–π ‚ùå –Ω–∞ ‚úÖ
4. **–ß–∏—Ç–∞–π "–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞"** - —Ç–∞–º –≤—Å—è –Ω—É–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
5. **–°–ª–µ–¥—É–π —á–µ–∫-–ª–∏—Å—Ç—É** –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

### –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–∞–ø 3"
–ò–ò: 
1. –ß–∏—Ç–∞–µ—Ç —ç—Ç–∞–ø 3
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —ç—Ç–∞–ø—ã 1-2 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (—Å—Ç–∞—Ç—É—Å ‚úÖ)
3. –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞ 3
4. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ 3: ‚ùå ‚Üí ‚úÖ
5. –û–±–Ω–æ–≤–ª—è–µ—Ç —á–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
```

---

## üìä –ü–†–û–ì–†–ï–°–° –≠–¢–ê–ü–û–í

| –≠—Ç–∞–ø | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ |
|------|----------|--------|------|
| 1 | –°–æ–∑–¥–∞–Ω–∏–µ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤ | ‚ùå | - |
| 2 | –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Pyrus –∫–ª–∏–µ–Ω—Ç–æ–≤ | ‚ùå | - |
| 3 | –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ September Rating | ‚ùå | - |
| 4 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | ‚ùå | - |
| 5 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ùå | - |
| 6 | –û—á–∏—Å—Ç–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚ùå | - |

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ –∑–∞–º–µ–Ω–∏ ‚ùå –Ω–∞ ‚úÖ –∏ —É–∫–∞–∂–∏ –¥–∞—Ç—É

---

## üìã –ö–û–ù–¢–ï–ö–°–¢ –ü–†–û–ï–ö–¢–ê

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —è–¥—Ä–∞ –ø–æ—Ä—Ç–∞–ª–∞ –æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–µ—Ä–≤—ã–º –ø–ª–∞–≥–∏–Ω–æ–º "September Rating", –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Pyrus –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ KPI.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–ü–æ—Ä—Ç–∞–ª:** Next.js + TypeScript + Supabase
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** NextAuth —Å Google OAuth (@planetenglish.ru)
- **–†–æ–ª–∏:** Administrator, Senior Teacher, Teacher, Salesman, Head of Sales, Regular User
- **–ë–î:** –¢–∞–±–ª–∏—Ü—ã `teacher_metrics`, `current_scores`, `profiles`, `branch`
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π Pyrus –∫–ª–∏–µ–Ω—Ç:** `lib/pyrus/client.ts` (–±–∞–∑–æ–≤—ã–π)
- **–°–µ–Ω—Ç—è–±—Ä—å—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `app/september-rating/` –∏ `components/dashboard/`

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
- `middleware.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º
- `lib/auth/permissions.ts` - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- `lib/clients/leaderboard.client.ts` - API –∫–ª–∏–µ–Ω—Ç—ã
- `docs/teacher_exclusions.json` - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- `docs/reference.md` - –ª–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏–∑ Pyrus (35+, 16-34, 6-15)

### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –î–ï–¢–ê–õ–ò

**1. –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª–∏–∞–ª–æ–≤ –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞:**
- **–†–µ–π—Ç–∏–Ω–≥ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:** –ù–ï –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∏–ª–∏–∞–ª—É (`teacher_metrics.branch_id = NULL`)
- **–†–µ–π—Ç–∏–Ω–≥ —Ñ–∏–ª–∏–∞–ª–æ–≤:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏–ª–∏–∞–ª—É –ò–ó –§–û–†–ú Pyrus, –ù–ï –∏–∑ `profiles.branch_id`
- **–ü—Ä–∏–Ω—Ü–∏–ø:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–ª–∏–∞–ª –ø–æ—Ä—Ç–∞–ª–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º

**2. –°–∏—Å—Ç–µ–º–∞ –≥—Ä—É–ø–ø –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π (–∏–∑ reference.md):**
- **–°—Ç–∞—Ä–∏—á–∫–∏ (2304918):** 35+, 16-34, 6-15 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- **Trial (792300):** 16+, 11-15, 5-10 –ë–ü–ó —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- **–ü—Ä–∏–∑—ã:** iPad (1 –º–µ—Å—Ç–æ –≤ —Ç–æ–ø –≥—Ä—É–ø–ø–∞—Ö), HonorPad, –ü–æ–¥–ø–∏—Å–∫–∞ –≤ Tg Premium
- **–≠–º–æ–¥–∑–∏:** ü•áü•àü•â

**3. –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:**
- –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏)
- –ù–û —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ —Ñ–∏–ª–∏–∞–ª–æ–≤ (–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Å–µ—Ö –≤ –ë–î)
- –ò—Å—Ç–æ—á–Ω–∏–∫: `docs/teacher_exclusions.json`

**4. Mapping –¥–∞–Ω–Ω—ã—Ö Pyrus ‚Üí –ë–î:**
- `form_2304918_total` ‚Üí `last_year_base`
- `form_2304918_studying` ‚Üí `last_year_returned`
- `form_792300_total` ‚Üí `trial_total` 
- `form_792300_studying` ‚Üí `trial_converted`

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- **–¢–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (build-time)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–ª–∞–≥–∏–Ω—ã –≤ –ø–∞–ø–∫–µ `plugins/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
- **API**: –ü–ª–∞–≥–∏–Ω—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ endpoints
- **–†–æ—É—Ç–∏–Ω–≥**: –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ + –∏–º–ø–æ—Ä—Ç –≤ `app/` —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Pyrus
- **–ß–∞—Å—Ç–æ—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π —á–∞—Å
- **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: –§–æ—Ä–º—ã 2304918 (—Å—Ç–∞—Ä–∏—á–∫–∏) –∏ 792300 (trial)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã (`teacher_metrics`, `current_scores`)
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Å–µ—Ö, —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏

---

## –≠–¢–ê–ü 1: –°–æ–∑–¥–∞–Ω–∏–µ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

### –ó–∞–¥–∞—á–∏

#### 1.1. –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–ª–∞–≥–∏–Ω–æ–≤
**–§–∞–π–ª:** `plugins/core/plugin-types.ts`
```typescript
export interface PluginConfig {
  id: string
  name: string
  version: string
  description: string
  enabled: boolean
  permissions: UserRole[]
  routes: string[]
  apiRoutes?: string[]
}

export interface PluginRegistry {
  [pluginId: string]: PluginConfig
}
```

#### 1.2. –°–æ–∑–¥–∞—Ç—å —Ä–µ–µ—Å—Ç—Ä –ø–ª–∞–≥–∏–Ω–æ–≤
**–§–∞–π–ª:** `plugins/registry.ts`
```typescript
import { PluginRegistry } from './core/plugin-types'

export const pluginRegistry: PluginRegistry = {
  // –ü–ª–∞–≥–∏–Ω—ã –±—É–¥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å
}
```

#### 1.3. –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `lib/auth/plugin-permissions.ts`
- –§—É–Ω–∫—Ü–∏—è `hasPluginAccess(userRole, pluginId, context)`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `hasAccess()`

#### 1.4. –°–æ–∑–¥–∞—Ç—å —Ö—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏
**–§–∞–π–ª:** `hooks/use-plugins.ts`
- `useAvailablePlugins(userRole)` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- `usePluginConfig(pluginId)` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞

### ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –≠–¢–ê–ü–ê 1
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–π –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:**

- [ ] 1.1. –§–∞–π–ª `plugins/core/plugin-types.ts` —Å–æ–∑–¥–∞–Ω —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- [ ] 1.2. –§–∞–π–ª `plugins/registry.ts` —Å–æ–∑–¥–∞–Ω —Å –ø—É—Å—Ç—ã–º —Ä–µ–µ—Å—Ç—Ä–æ–º
- [ ] 1.3. –§–∞–π–ª `lib/auth/plugin-permissions.ts` —Å–æ–∑–¥–∞–Ω —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- [ ] 1.4. –§–∞–π–ª `hooks/use-plugins.ts` —Å–æ–∑–¥–∞–Ω —Å —Ö—É–∫–∞–º–∏
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ TypeScript
- [ ] –ú–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏–∑ `plugins/core/plugin-types.ts`
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–µ—Å—Ç—Ä

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:**
1. –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ 1 –≤ —Ç–∞–±–ª–∏—Ü–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å —ç—Ç–∞–ø–æ–≤": ‚ùå ‚Üí ‚úÖ
2. –£–∫–∞–∂–∏ –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## –≠–¢–ê–ü 2: –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Pyrus –∫–ª–∏–µ–Ω—Ç–æ–≤
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Pyrus API  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

### –ó–∞–¥–∞—á–∏

#### 2.1. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π Pyrus –∫–ª–∏–µ–Ω—Ç
**–§–∞–π–ª:** `lib/pyrus/base-client.ts`
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `client.ts`
- –ë–∞–∑–æ–≤—ã–µ HTTP –º–µ—Ç–æ–¥—ã (`makeRequest`, `authenticate`)
- –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, retry –ª–æ–≥–∏–∫–∞)

#### 2.2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ä–º–∞–º–∏
**–§–∞–π–ª:** `lib/pyrus/forms-client.ts`
```typescript
export class PyrusFormsClient extends PyrusBaseClient {
  async *iterRegisterTasks(formId: number): AsyncGenerator<PyrusTask>
  private getFieldValue(fieldList: any[], fieldId: number): any
}
```

#### 2.3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏  
**–§–∞–π–ª:** `lib/pyrus/teachers-client.ts`
```typescript  
export class PyrusTeachersClient extends PyrusBaseClient {
  extractTeacherName(taskFields: any[], fieldId: number): string
  extractBranchName(taskFields: any[], fieldId: number): string
  isStudying(taskFields: any[], fieldId: number): boolean
  isValidPEStatus(taskFields: any[], fieldId: number): boolean
}
```

#### 2.4. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –∫–ª–∏–µ–Ω—Ç–æ–≤
**–§–∞–π–ª:** `lib/pyrus/client-factory.ts`
```typescript
export class PyrusClientFactory {
  static createFormsClient(): PyrusFormsClient
  static createTeachersClient(): PyrusTeachersClient  
  static createUsersClient(): PyrusUsersClient // —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
}
```

#### 2.5. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `lib/services/pyrus-sync.service.ts`
```typescript
export class PyrusSyncService {
  constructor(
    private formsClient: PyrusFormsClient,
    private teachersClient: PyrusTeachersClient
  ) {}
  
  async syncForm2304918(): Promise<TeacherMetrics[]>
  async syncForm792300(): Promise<TeacherMetrics[]>
  private applyTeacherExclusions(data: any[]): any[]
  private updateTeacherMetrics(metrics: TeacherMetrics[]): Promise<void>
  private groupDataByBranch(data: any[]): BranchMetrics[] // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏–ª–∏–∞–ª—É –ò–ó –§–û–†–ú
}
```

#### 2.6. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
**–§–∞–π–ª:** `lib/constants/teacher-exclusions.ts`
- –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ `docs/teacher_exclusions.json`
- –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø–æ —Ç–∏–ø–∞–º —Ñ–æ—Ä–º

### ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –≠–¢–ê–ü–ê 2
**–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —ç—Ç–∞–ø 1 –≤—ã–ø–æ–ª–Ω–µ–Ω (—Å—Ç–∞—Ç—É—Å ‚úÖ) –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º!**

- [ ] 2.1. –§–∞–π–ª `lib/pyrus/base-client.ts` —Å–æ–∑–¥–∞–Ω (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞)
- [ ] 2.2. –§–∞–π–ª `lib/pyrus/forms-client.ts` —Å–æ–∑–¥–∞–Ω —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏–∑ reference.md
- [ ] 2.3. –§–∞–π–ª `lib/pyrus/teachers-client.ts` —Å–æ–∑–¥–∞–Ω —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- [ ] 2.4. –§–∞–π–ª `lib/pyrus/client-factory.ts` —Å–æ–∑–¥–∞–Ω —Å —Ñ–∞–±—Ä–∏–∫–æ–π
- [ ] 2.5. –§–∞–π–ª `lib/services/pyrus-sync.service.ts` —Å–æ–∑–¥–∞–Ω —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- [ ] 2.6. –§–∞–π–ª `lib/constants/teacher-exclusions.ts` —Å–æ–∑–¥–∞–Ω —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
- [ ] –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ
- [ ] –§–∞–±—Ä–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:**
1. –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ 2: ‚ùå ‚Üí ‚úÖ
2. –£–∫–∞–∂–∏ –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## –≠–¢–ê–ü 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ September Rating
**–¶–µ–ª—å:** –ü–µ—Ä–≤—ã–π —Ä–∞–±–æ—á–∏–π –ø–ª–∞–≥–∏–Ω —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π  
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è

### –ó–∞–¥–∞—á–∏

#### 3.1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–ª–∞–≥–∏–Ω–∞
```
plugins/september-rating/
‚îú‚îÄ‚îÄ plugin.config.ts      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
‚îú‚îÄ‚îÄ rules/
‚îÇ   ‚îî‚îÄ‚îÄ selection-rules.json  # –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ main-page.tsx     # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ teacher-leaderboard.tsx
‚îÇ   ‚îú‚îÄ‚îÄ branch-leaderboard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ rules-display.tsx # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ rules-page.tsx    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ sync.ts          # API –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ pyrus-adapter.ts  # –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Pyrus
‚îî‚îÄ‚îÄ index.ts             # –≠–∫—Å–ø–æ—Ä—Ç—ã –ø–ª–∞–≥–∏–Ω–∞
```

#### 3.2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–ª–∞–≥–∏–Ω–∞
**–§–∞–π–ª:** `plugins/september-rating/plugin.config.ts`
```typescript
export const config: PluginConfig = {
  id: 'september-rating',
  name: 'September Rating',
  version: '1.0.0',
  description: '–†–µ–π—Ç–∏–Ω–≥–∏ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã –∑–∞ —Å–µ–Ω—Ç—è–±—Ä—å 2024',
  enabled: true,
  permissions: ['Administrator', 'Senior Teacher', 'Teacher', 'Salesman', 'Head of Sales'],
  routes: ['/september-rating', '/september-rating/*'],
  apiRoutes: ['/api/plugins/september-rating/*']
}
```

#### 3.3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª:** `plugins/september-rating/rules/selection-rules.json`
```json
{
  "name": "–°–µ–Ω—Ç—è–±—Ä—å—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑ Pyrus",
  "description": "–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–±–æ—Ä–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–∞ —Å–µ–Ω—Ç—è–±—Ä—å 2024",
  "updated": "2025-09-22",
  "author": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
  
  "forms": {
    "form_2304918": {
      "name": "–í–æ–∑–≤—Ä–∞—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—Å—Ç–∞—Ä–∏—á–∫–∏)",
      "filters": [
        {
          "field": "status_pe",
          "condition": "–≤–∫–ª—é—á–∏—Ç—å",
          "values": ["PE Start", "PE Future", "PE 5"],
          "description": "–¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã PE"
        },
        {
          "field": "branch",
          "condition": "–∏—Å–∫–ª—é—á–∏—Ç—å",
          "values": ["–ú–∞–∫–µ–µ–≤–∞ 15", "–ö–æ–º–º—É–Ω—ã 106/1"],
          "description": "–ò—Å–∫–ª—é—á–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–µ —Ñ–∏–ª–∏–∞–ª—ã"
        }
      ]
    },
    "form_792300": {
      "name": "–ö–æ–Ω–≤–µ—Ä—Å–∏—è trial —Å—Ç—É–¥–µ–Ω—Ç–æ–≤",
      "filters": [
        {
          "field": "status_pe",
          "condition": "–≤–∫–ª—é—á–∏—Ç—å",
          "values": ["PE Start", "PE Future", "PE 5"],
          "description": "–¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã PE"
        }
      ]
    }
  },
  
  "teacher_exclusions": {
    "oldies": {
      "teachers": ["–í–∞–ª–µ–µ–≤", "–Ø–∫—É–ø–æ–≤–∞", "–ë—É–ª–∞–µ–≤–∞", "–ü–∞—Å–µ—á–Ω–∏–∫–æ–≤–∞"],
      "reason": "–ò—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ —Å—Ç–∞—Ä–∏—á–∫–∞–º –ø–æ —Ä–µ—à–µ–Ω–∏—é —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞"
    },
    "trial": {
      "teachers": ["–†–µ–º–ø–æ–≤–∏—á"],
      "reason": "–ò—Å–∫–ª—é—á–µ–Ω –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ trial –ø–æ —Ä–µ—à–µ–Ω–∏—é —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞"
    }
  },
  
  "calculations": {
    "return_percentage": "–ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ = (–£—á–∞—â–∏–µ—Å—è —Å—Ç–∞—Ä–∏—á–∫–∏ / –í—Å–µ–≥–æ —Å—Ç–∞—Ä–∏—á–∫–æ–≤) √ó 100",
    "conversion_percentage": "–ü—Ä–æ—Ü–µ–Ω—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ = (–£—á–∞—â–∏–µ—Å—è trial / –í—Å–µ–≥–æ trial) √ó 100",
    "total_score": "–û–±—â–∏–π –±–∞–ª–ª = –ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ + –ü—Ä–æ—Ü–µ–Ω—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏"
  },
  
  "teacher_groups": {
    "oldies": {
      "description": "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—Ñ–æ—Ä–º–∞ 2304918)",
      "groups": {
        "35+": {
          "emoji": "ü•á",
          "prizes": ["iPad", "HonorPad", "HonorPad", "HonorPad"],
          "winners_count": 4
        },
        "16-34": {
          "emoji": "ü•à", 
          "prize": "HonorPad",
          "winners_count": 3
        },
        "6-15": {
          "emoji": "ü•â",
          "prize": "–ü–æ–¥–ø–∏—Å–∫–∞ –≤ Tg Premium",
          "winners_count": 3
        }
      },
      "sorting": "–ü–æ % –≤–æ–∑–≤—Ä–∞—Ç–∞, –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ - –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤"
    },
    "trial": {
      "description": "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ë–ü–ó —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—Ñ–æ—Ä–º–∞ 792300)",
      "groups": {
        "16+": {
          "emoji": "ü•á",
          "prizes": ["iPad", "HonorPad", "HonorPad", "HonorPad"], 
          "winners_count": 4
        },
        "11-15": {
          "emoji": "ü•à",
          "prize": "HonorPad",
          "winners_count": 3
        },
        "5-10": {
          "emoji": "ü•â",
          "prize": "–ü–æ–¥–ø–∏—Å–∫–∞ –≤ Tg Premium",
          "winners_count": 3
        }
      },
      "sorting": "–ü–æ % –∫–æ–Ω–≤–µ—Ä—Å–∏–∏, –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ - –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ë–ü–ó —Å—Ç—É–¥–µ–Ω—Ç–æ–≤"
    }
  }
}
```

#### 3.4. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞:**
- `app/september-rating/page.tsx` ‚Üí `plugins/september-rating/pages/main-page.tsx`
  - Hero —Å–µ–∫—Ü–∏—è —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –∏ Trophy –∏–∫–æ–Ω–∫–æ–π
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BranchLeaderboard –∏ TeacherLeaderboard
  - –ü–∞—Ä–∞–º–µ—Ç—Ä `showOnlyCards={true}`

- `app/september-rating/teacher-leaderboard/page.tsx` ‚Üí `plugins/september-rating/pages/teacher-leaderboard-page.tsx`
- `app/september-rating/branch-leaderboard/page.tsx` ‚Üí `plugins/september-rating/pages/branch-leaderboard-page.tsx`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞:**
- `components/dashboard/teacher-leaderboard.tsx` ‚Üí `plugins/september-rating/components/teacher-leaderboard.tsx`
  - **–í–ê–ñ–ù–û: –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –ø–æ–¥ —Å–∏—Å—Ç–µ–º—É –≥—Ä—É–ø–ø –∏–∑ reference.md**
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: 35+, 16-34, 6-15 (–¥–ª—è —Å—Ç–∞—Ä–∏—á–∫–æ–≤)
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ë–ü–ó: 16+, 11-15, 5-10 (–¥–ª—è trial)
  - –≠–º–æ–¥–∑–∏ –≥—Ä—É–ø–ø—ã: ü•áü•àü•â
  - –ü—Ä–∏–∑—ã –ø–æ –≥—Ä—É–ø–ø–∞–º: iPad, HonorPad, –ü–æ–¥–ø–∏—Å–∫–∞ –≤ Tg Premium
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø –ø–æ % (–≤–æ–∑–≤—Ä–∞—Ç–∞/–∫–æ–Ω–≤–µ—Ä—Å–∏–∏)
  - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏, —Ñ–∏–ª–∏–∞–ª—É, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  - –î–µ–ª—å—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏
  - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `fetchTeacherLeaderboard`

- `components/dashboard/branch-leaderboard.tsx` ‚Üí `plugins/september-rating/components/branch-leaderboard.tsx`
  - –ò–∫–æ–Ω–∫–∏ —Ä–∞–Ω–≥–æ–≤ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ (–∑–æ–ª–æ—Ç–æ/—Å–µ—Ä–µ–±—Ä–æ/–±—Ä–æ–Ω–∑–∞)
  - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ sparkles –¥–ª—è 1 –º–µ—Å—Ç–∞
  - –ü—Ä–∏–∑—ã –¥–ª—è —Ç–æ–ø-5: Interactive Display, –∫–æ—Ñ–µ–º–∞—à–∏–Ω–∞, –¥–µ–Ω—å–≥–∏
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ñ–∏–ª–∏–∞–ª–∞
  - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `fetchBranchLeaderboard`

**–í–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:**
- –í—Å–µ UI/UX —ç–ª–µ–º–µ–Ω—Ç—ã (–≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏, –∏–∫–æ–Ω–∫–∏)
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ endpoints
- –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –∏ –±—Ä–µ–Ω–¥–∏–Ω–≥
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –ü–∞–≥–∏–Ω–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–æ–≤

#### 3.5. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª
**–§–∞–π–ª:** `plugins/september-rating/components/rules-display.tsx`
- –ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –∏–∑ JSON —Ñ–∞–π–ª–∞
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–§–∞–π–ª:** `plugins/september-rating/pages/rules-page.tsx`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/september-rating/rules` 
- –î–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–ª–∞–≥–∏–Ω–∞
- –ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª –≤—ã–±–æ—Ä–∫–∏

#### 3.6. –°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è Pyrus
**–§–∞–π–ª:** `plugins/september-rating/services/pyrus-adapter.ts`
```typescript
import selectionRules from '../rules/selection-rules.json'

export class SeptemberRatingPyrusAdapter {
  constructor(private syncService: PyrusSyncService) {}
  
  private getRules() {
    return selectionRules // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ JSON
  }
  
  async syncSeptemberData(): Promise<SyncResult>
  private mapPyrusDataToMetrics(data: any[]): TeacherMetrics[]
  private handleExclusions(data: any[]): any[]
}
```

#### 3.7. –°–æ–∑–¥–∞—Ç—å API —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
**–§–∞–π–ª:** `plugins/september-rating/api/sync.ts`
- Endpoint –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–¥–∞–ø—Ç–µ—Ä –ø–ª–∞–≥–∏–Ω–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `teacher_metrics` —Ç–∞–±–ª–∏—Ü—ã

### ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –≠–¢–ê–ü–ê 3
**–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —ç—Ç–∞–ø—ã 1-2 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (—Å—Ç–∞—Ç—É—Å ‚úÖ) –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º!**

- [ ] 3.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ø–ª–∞–≥–∏–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞
- [ ] 3.2. –§–∞–π–ª `plugin.config.ts` —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [ ] 3.3. –§–∞–π–ª `rules/selection-rules.json` —Å–æ–∑–¥–∞–Ω —Å –≥—Ä—É–ø–ø–∞–º–∏ –∏ –ø—Ä–∏–∑–∞–º–∏
- [ ] 3.4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ `app/september-rating/` –∏ `components/dashboard/`
- [ ] 3.5. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `rules-display.tsx` —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª
- [ ] 3.6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ `rules-page.tsx` —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] 3.7. –ê–¥–∞–ø—Ç–µ—Ä `pyrus-adapter.ts` —Å–æ–∑–¥–∞–Ω —Å –∏–º–ø–æ—Ä—Ç–æ–º –ø—Ä–∞–≤–∏–ª –∏–∑ JSON
- [ ] 3.8. API `sync.ts` —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [ ] Teacher Leaderboard –ø–µ—Ä–µ–¥–µ–ª–∞–Ω –ø–æ–¥ —Å–∏—Å—Ç–µ–º—É –≥—Ä—É–ø–ø (35+, 16-34, 6-15)
- [ ] –ü–ª–∞–≥–∏–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `plugins/registry.ts`
- [ ] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:**
1. –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ 3: ‚ùå ‚Üí ‚úÖ
2. –£–∫–∞–∂–∏ –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## –≠–¢–ê–ü 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
**–¶–µ–ª—å:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–π —á–∞—Å  
**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

### –ó–∞–¥–∞—á–∏

#### 4.1. –°–æ–∑–¥–∞—Ç—å cron job
**–§–∞–π–ª:** `app/api/cron/pyrus-sync/route.ts`
- Endpoint –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ Vercel
- –í—ã–∑–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 4.2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vercel Cron
**–§–∞–π–ª:** `vercel.json`
```json
{
  "crons": [{
    "path": "/api/cron/pyrus-sync",
    "schedule": "0 * * * *"
  }]
}
```

#### 4.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å
- Graceful handling —Å–±–æ–µ–≤ Pyrus API

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [ ] Cron job –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–∞—Å
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## –≠–¢–ê–ü 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ –≤ –ø–æ—Ä—Ç–∞–ª  
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è

### –ó–∞–¥–∞—á–∏

#### 5.1. –û–±–Ω–æ–≤–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥
- –û–±–Ω–æ–≤–∏—Ç—å `app/september-rating/page.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞
- –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –º–µ–Ω—é
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏

#### 5.2. –û–±–Ω–æ–≤–∏—Ç—å middleware
**–§–∞–π–ª:** `middleware.ts`
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–ª–∞–≥–∏–Ω–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `hasPluginAccess()`

#### 5.3. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤ —Ä–æ—É—Ç–∏–Ω–≥
**–§–∞–π–ª:** `app/september-rating/rules/page.tsx`
- –ò–º–ø–æ—Ä—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∞–≤–∏–ª –∏–∑ –ø–ª–∞–≥–∏–Ω–∞
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ URL `/september-rating/rules`

#### 5.4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
**–§–∞–π–ª:** `components/dashboard/teacher-leaderboard.tsx`
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- –ò—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–µ
- –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª–∏–∞–ª–æ–≤ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ–ª–Ω—ã–º–∏

#### 5.5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [ ] –ü–ª–∞–≥–∏–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ä–æ—É—Ç–∏–Ω–≥
- [ ] –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Pyrus —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## –≠–¢–ê–ü 6: –û—á–∏—Å—Ç–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–¶–µ–ª—å:** –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É  
**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

### –ó–∞–¥–∞—á–∏

#### 6.1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥
- –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏–∑ `app/september-rating/`
- –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### 6.2. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ README
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø–ª–∞–≥–∏–Ω–æ–≤
- –°–æ–∑–¥–∞—Ç—å guide –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤

#### 6.3. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- [ ] –°—Ç–∞—Ä—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
```
plugins/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ plugin-types.ts
‚îÇ   ‚îú‚îÄ‚îÄ plugin-loader.ts
‚îÇ   ‚îî‚îÄ‚îÄ plugin-permissions.ts
‚îú‚îÄ‚îÄ september-rating/
‚îÇ   ‚îú‚îÄ‚îÄ plugin.config.ts
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pyrus-adapter.ts
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ registry.ts

lib/
‚îú‚îÄ‚îÄ pyrus/
‚îÇ   ‚îú‚îÄ‚îÄ base-client.ts (–Ω–æ–≤—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ forms-client.ts (–Ω–æ–≤—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ teachers-client.ts (–Ω–æ–≤—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ client-factory.ts (–Ω–æ–≤—ã–π)
‚îÇ   ‚îî‚îÄ‚îÄ client.ts (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π PyrusUsersClient)
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ pyrus-sync.service.ts (–Ω–æ–≤—ã–π)

app/api/cron/
‚îî‚îÄ‚îÄ pyrus-sync/
    ‚îî‚îÄ‚îÄ route.ts
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
PYRUS_LOGIN=your_login
PYRUS_SECURITY_KEY=your_key
PYRUS_API_URL=https://api.pyrus.com/v4/
```

### Mapping –¥–∞–Ω–Ω—ã—Ö Pyrus ‚Üí teacher_metrics
- `form_2304918_total` ‚Üí `last_year_base`
- `form_2304918_studying` ‚Üí `last_year_returned` 
- `form_792300_total` ‚Üí `trial_total`
- `form_792300_studying` ‚Üí `trial_converted`

**–í–ê–ñ–ù–û: –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª–∏–∞–ª–æ–≤ –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞**
- **–†–µ–π—Ç–∏–Ω–≥ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:** –ù–ï –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∏–ª–∏–∞–ª—É (`teacher_metrics.branch_id = NULL`)
- **–†–µ–π—Ç–∏–Ω–≥ —Ñ–∏–ª–∏–∞–ª–æ–≤:** –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏–ª–∏–∞–ª—É –ò–ó –§–û–†–ú Pyrus, –ù–ï –∏–∑ `profiles.branch_id`
- **–ü—Ä–∏–Ω—Ü–∏–ø:** –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–ª–∏–∞–ª –ø–æ—Ä—Ç–∞–ª–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- –ò—Å—Ç–æ—á–Ω–∏–∫: `docs/teacher_exclusions.json`
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- –§–∏–ª–∏–∞–ª—ã: —É—á–∏—Ç—ã–≤–∞—é—Ç –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π (–≤–∫–ª—é—á–∞—è –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö)

---

## –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
1. **–ü—Ä–∞–≤–∏–ª–∞ –≤ JSON** - –∫–∞–∂–¥—ã–π –ø–ª–∞–≥–∏–Ω –∏–º–µ–µ—Ç —Ñ–∞–π–ª `rules/selection-rules.json`
2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/[plugin]/rules` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ** - –∞–¥–∞–ø—Ç–µ—Ä—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ JSON
4. **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å** - –ø—Ä–∞–≤–∏–ª–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Git

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª:
- **–§–æ—Ä–º—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã** - –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –±–µ—Ä–µ–º
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è** - –∫–æ–≥–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ–º  
- **–†–∞—Å—á–µ—Ç—ã** - –∫–∞–∫ —Å—á–∏—Ç–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –∞–≤—Ç–æ—Ä, –¥–∞—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ

### –î–ª—è –±—É–¥—É—â–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤:
–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å:
- `rules/selection-rules.json` - –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∫–∏
- `components/rules-display.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `pages/rules-page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –Ω–∞–¥ –∫–∞–∂–¥—ã–º —ç—Ç–∞–ø–æ–º:

1. **–ß–∏—Ç–∞—Ç—å –≤–µ—Å—å —ç—Ç–∞–ø –ø–æ–ª–Ω–æ—Å—Ç—å—é** –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —ç—Ç–∞–ø—ã** - —á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ
3. **–°–ª–µ–¥–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ñ–∞–π–ª–æ–≤** —Ç–æ—á–Ω–æ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ
4. **–°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∫–∏** –≤ JSON –¥–ª—è –∫–∞–∂–¥–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
6. **–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** - –Ω–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞—Ç—å
7. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TypeScript** –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
8. **–°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º** –∫–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —ç—Ç–∞–ø–∞:
- [ ] –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ —Å–ª–æ–º–∞–Ω–∞
- [ ] –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏–∑ `lib/`, `components/`, `app/`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ö—É–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã
4. –ü—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏—è—Ö - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º –∫–æ–¥–æ–º

---

---

## üìù –ñ–£–†–ù–ê–õ –ò–ó–ú–ï–ù–ï–ù–ò–ô –¢–ó

### –í–µ—Ä—Å–∏—è 1.0 (22 —Å–µ–Ω—Ç—è–±—Ä—è 2025)
- –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –¢–ó
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —ç—Ç–∞–ø–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π

### –ö–∞–∫ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:** –æ–±–Ω–æ–≤–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç—Ç–∞–ø + —É–≤–µ–ª–∏—á—å –≤–µ—Ä—Å–∏—é
2. **–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫:** –∏—Å–ø—Ä–∞–≤—å + –¥–æ–±–∞–≤—å –∑–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª
3. **–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–µ—Ç–∞–ª–µ–π:** –æ–±–Ω–æ–≤–∏ —Ä–∞–∑–¥–µ–ª "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏"

### –®–∞–±–ª–æ–Ω –∑–∞–ø–∏—Å–∏:
```
### –í–µ—Ä—Å–∏—è X.X (–¥–∞—Ç–∞)
- –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ
- –ü—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ö–∞–∫–∏–µ —ç—Ç–∞–ø—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
```

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ

### üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ò–ò:
1. –ü—Ä–æ—á–∏—Ç–∞–π "–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞" –∏ "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏"
2. –ù–∞–π–¥–∏ –Ω—É–∂–Ω—ã–π —ç—Ç–∞–ø –ø–æ –Ω–æ–º–µ—Ä—É
3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —ç—Ç–∞–ø–æ–≤
4. –í—ã–ø–æ–ª–Ω–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —á–µ–∫-–ª–∏—Å—Ç–∞
5. –û–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å —ç—Ç–∞–ø–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
